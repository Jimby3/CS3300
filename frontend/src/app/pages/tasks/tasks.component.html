<div class="tasks">
  <h2>Tasks</h2>
  <button (click)="toggleAddTaskForm()">Add Task</button>

  <div *ngIf="showAddTaskForm" class="add-task-form">
    <input [(ngModel)]="newTaskName" placeholder="Enter task name" />
    <input [(ngModel)]="newTaskDueDate" type="date" placeholder="Enter due date" />
    <input [(ngModel)]="newTaskType" placeholder="Enter task type" />
    <input [(ngModel)]="newTaskTimeAll" type="number" placeholder="Enter time allocated" />
    <input [(ngModel)]="newTaskStatus" placeholder="Enter task status" />
    <input [(ngModel)]="newTaskPriority" type="number" placeholder="Enter task priority" />
    <input [(ngModel)]="newTaskClassId" type="number" placeholder="Enter class ID" />
    <button (click)="addTask()">Save</button>
    <button (click)="toggleAddTaskForm()">Cancel</button>
  </div>

  <ul>
    <li *ngFor="let task of tasks" (click)="selectTask(task.id)">
      {{ task.name }}
    </li>
  </ul>

  <div *ngIf="selectedTask">
    <h3>Details for {{ selectedTask?.name }}</h3>
    <p>Due: {{ selectedTask?.dueDate | date }}</p>
    <button (click)="deleteTask(selectedTask.id)">Delete Task</button>
  </div>
</div>
